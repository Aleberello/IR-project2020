{
    "settings": {
        "number_of_shards" : 1,
        "number_of_replicas" : 1,
        "analysis" : {
            "analyzer" : {
                "tweet" : {
                    "type" : "custom",
                    "tokenizer" : "standard",
                    "filter" : ["lowercase", "english_stop", "porter_stem"],
                    "char_filter" : ["html_strip"]
                }
            },
            "normalizer": {
                "tweet_normalizer": {
                    "type" : "custom",
                    "filter" : ["lowercase"]
                }
            },
            "filter" : {
                "english_stop" : {"type": "stop", "stopwords" : "_english_"}
            }
        }
    },
    "mappings": {
        "dynamic" : "strict",
        "properties" : {
            "user_name" : {
                "type": "text",
                "analyzer" : "tweet",
                "search_analyzer" : "tweet",
                "similarity" : "boolean"
            },
            "date": {
                "type": "date",
                "format": "EEE MMM dd HH:mm:ss Z YYYY"
            },
            "tweet_id" : {
                "type": "long"
            },
            "text" : {
                "type": "text",
                "analyzer" : "tweet",
                "search_analyzer" : "tweet",
                "similarity" : "BM25"
            },
            "hashtags" : {
                "type": "keyword",
                "ignore_above": 256,
                "normalizer" : "tweet_normalizer"
            }
        }
    }
}